(this["webpackJsonpredux-blog"]=this["webpackJsonpredux-blog"]||[]).push([[0],{41:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),o=e(18),i=e.n(o),a=e(7),u=e(6),s=e(2),l=e(3),f="@media (max-width: 576px)",d="@media (max-width: 768px)",j=e(17),b="token",p=function(n){localStorage.setItem(b,n)},x=function(){return localStorage.getItem(b)};function h(n){var t=new Date(n);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}var O="https://student-json-api.lidemy.me",g=function(n){return fetch("".concat(O,"/users/").concat(n,"?_embed=posts")).then((function(n){return n.json()}))},v=Object(j.b)({name:"user",initialState:{isLogin:!1,userInfo:null},reducers:{setIsLogin:function(n,t){n.isLogin=t.payload},setUser:function(n,t){n.userInfo=t.payload}}}),m=v.actions,w=m.setIsLogin,y=m.setUser,k=function(){return function(n){return function(){var n=x();return fetch("".concat(O,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))}().then((function(t){return t.ok?(n(y(t.data)),n(w(!0))):p(null),t}))}},z=function(n,t){return function(e){return function(n,t){return fetch("".concat(O,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))}(n,t).then((function(n){return n.ok&&p(n.token),n}))}},P=function(n,t,e){return function(r){return function(n,t,e){return fetch("".concat(O,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))}(n,t,e).then((function(n){return n.ok&&p(n.token),n}))}},S=v.reducer,A=e(4);function E(){var n=Object(s.a)(["\n  box-sizing: border-box;\n  background: white;\n  border: 1px solid #212121;\n  color: #212121;\n\n  &:hover {\n    background: #eeeeee;\n    border-color: white;\n  }\n"]);return E=function(){return n},n}function L(){var n=Object(s.a)(["\n  background: #212121;\n  color: white;\n  padding: 8px 15px;\n  border-radius: 4px;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n\n  &:hover {\n    background: #414141;\n  }\n"]);return L=function(){return n},n}function C(){var n=Object(s.a)(["\n  margin: 0 10px;\n  border-radius: 4px;\n  padding: 8px 15px;\n  background: #212121;\n  color: white;\n  transition: all 0.3s ease-in;\n  text-decoration: none;\n\n  &:hover {\n    background: #414141;\n  }\n"]);return C=function(){return n},n}function N(){var n=Object(s.a)(["\n  color: #d1d1d1;\n  text-decoration: none;\n  padding: 10px;\n\n  &:hover {\n    color: #222222;\n    filter: brightness(1.05);\n  }\n\n  ",";\n"]);return N=function(){return n},n}function D(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return D=function(){return n},n}function B(){var n=Object(s.a)(['\n  margin: 0 30px;\n  color: #222222;\n  font-size: 28px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return B=function(){return n},n}function I(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #eeeeee;\n  padding: 20px;\n\n  "," {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return I=function(){return n},n}var _=l.a.div(I(),f),M=l.a.div(B()),R=l.a.div(D()),T=Object(l.a)(a.b)(N(),(function(n){return n.$active&&"color: #222222;"})),J=Object(l.a)(a.b)(C()),U=l.a.button(L()),Y=Object(l.a)(J)(E());function F(){var n=Object(u.g)(),t=Object(A.b)(),e=Object(A.c)((function(n){return n.user.isLogin})),c=0===n.pathname.indexOf("/post");return Object(r.jsxs)(_,{children:[Object(r.jsxs)(R,{children:[Object(r.jsx)(M,{children:"LIDEMY"}),Object(r.jsx)(T,{to:"/",$active:"/"===n.pathname,children:"Home"}),Object(r.jsx)(T,{to:"/archive",$active:"/archive"===n.pathname,children:"Archive"}),Object(r.jsx)(T,{to:"/about",$active:"/about"===n.pathname,children:"About"})]}),Object(r.jsxs)("div",{children:[!e&&Object(r.jsx)(J,{to:"/register",children:"Sign up"}),!e&&Object(r.jsx)(J,{to:"/login",children:"Log in"}),e&&!c&&Object(r.jsx)(U,{onClick:function(){t((function(n){n(w(!1)),n(y(null)),p(null)}))},children:"Sign out"}),e&&!c&&Object(r.jsx)(Y,{to:"/post",children:"New Post"})]})]})}var K=Object(j.b)({name:"posts",initialState:{allPosts:null,recentPost:null,relatedPosts:null,userPostsData:null},reducers:{setRecentPost:function(n,t){n.recentPost=t.payload},setRelatedPosts:function(n,t){n.relatedPosts=t.payload},setAllPosts:function(n,t){n.allPosts=t.payload},setUserPostData:function(n,t){n.userPostsData=t.payload}}}),$=K.actions,H=$.setRecentPost,W=$.setRelatedPosts,q=$.setAllPosts,G=$.setUserPostData,Q=function(){return function(n){fetch("".concat(O,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(t){n(q(t))}))}},V=function(n){return function(t){(function(n){return fetch("".concat(O,"/posts?id=").concat(n,"&_expand=user")).then((function(n){return n.json()}))})(n).then((function(n){t(H(n[0]))}))}},X=function(){return function(n){n(H(null)),n(W(null))}},Z=function(n,t){return function(e){return function(n,t){var e=x();return fetch("".concat(O,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))}(n,t).then((function(n){return n}))}},nn=function(n){return function(t){return function(n){var t=x();return fetch("".concat(O,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(t)}}).then((function(n){return n.status}))}(n).then((function(n){return n}))}},tn=function(n,t,e){return function(r){return function(n,t,e){var r=x();return fetch("".concat(O,"/posts/").concat(n),{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify({title:t,body:e})}).then((function(n){return n.json()}))}(n,t,e).then((function(n){return n}))}},en=K.reducer;function rn(){var n=Object(s.a)(["\n  width: 150px;\n  margin: 0 auto;\n\n  img {\n    width: 50%;\n    object-fit: cover;\n  }\n"]);return rn=function(){return n},n}function cn(){var n=Object(s.a)(["\n  width: 150px;\n  color: #525252;\n  font-size: 14px;\n  overflow-wrap: break-word;\n\n  a {\n    color: #525252;\n    text-decoration: underline;\n  }\n"]);return cn=function(){return n},n}function on(){var n=Object(s.a)(['\n  color: #222222;\n  font-size: 18px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return on=function(){return n},n}function an(){var n=Object(s.a)(['\n  margin: 10px 0;\n  font-family: "Montserrat", sans-serif;\n  color: #d1d1d1;\n']);return an=function(){return n},n}function un(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: fixed;\n  top: 50%;\n  margin: 0 8%;\n\n  "," {\n    display: none;\n  }\n"]);return un=function(){return n},n}var sn=l.a.div(un(),d),ln=l.a.h5(an()),fn=l.a.div(on()),dn=l.a.p(cn()),jn=l.a.div(rn());function bn(){return Object(r.jsxs)(sn,{children:[Object(r.jsx)(jn,{children:Object(r.jsx)("img",{src:"images/avatar.png",alt:""})}),Object(r.jsx)(ln,{children:"ABOUT"}),Object(r.jsx)(fn,{children:"Lidemy"}),Object(r.jsxs)(dn,{children:["\u4e00\u500b\u70ba\u521d\u5b78\u8005\u800c\u751f\u7684\u7dda\u4e0a\u7a0b\u5f0f\u8ab2\u7a0b\u5e73\u53f0",Object(r.jsx)("a",{href:"https://lidemy.com/",children:"https://lidemy.com/"})]})]})}function pn(){var n=Object(s.a)(["\n  margin: 5px;\n  border: 0.8px solid #cccccc;\n  border-radius: 3px;\n  padding: 3px 6px;\n  font-size: 12px;\n  letter-spacing: 1px;\n  color: #666666;\n  background: white;\n  text-decoration: none;\n  transition: ease-in 0.2s;\n  cursor: pointer;\n\n  &:hover {\n    background: #03a87c;\n    color: white;\n    border: none;\n  }\n"]);return pn=function(){return n},n}function xn(){var n=Object(s.a)(["\n  margin: 5px;\n  border: 0.8px solid #cccccc;\n  border-radius: 3px;\n  padding: 3px 6px;\n  font-size: 12px;\n  letter-spacing: 1px;\n  color: #666666;\n  background: white;\n  text-decoration: none;\n  transition: ease-in 0.2s;\n  cursor: pointer;\n\n  &:hover {\n    background: crimson;\n    color: white;\n    border: none;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return xn=function(){return n},n}function hn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: flex-start;\n  padding-bottom: 10vh;\n\n  "," {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return hn=function(){return n},n}function On(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 50%;\n\n  "," {\n    width: 80%;\n  }\n"]);return On=function(){return n},n}function gn(){var n=Object(s.a)([""]);return gn=function(){return n},n}function vn(){var n=Object(s.a)(['\n  margin: 20px 0;\n  padding: 10px 0;\n  color: #818181;\n  font-size: 28px;\n  text-decoration: underline;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n']);return vn=function(){return n},n}function mn(){var n=Object(s.a)(['\n  margin: 10px 0;\n  border-radius: 4px;\n  padding: 2px 5px;\n  color: #212121;\n  font-size: 20px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n']);return mn=function(){return n},n}function wn(){var n=Object(s.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n']);return wn=function(){return n},n}function yn(){var n=Object(s.a)(["\n  font-size: 16px;\n  color: #212121;\n  letter-spacing: 0.1em;\n"]);return yn=function(){return n},n}function kn(){var n=Object(s.a)(["\n  border: 1px solid #d1d1d1;\n  background: #fcfcfc;\n  border-radius: 10px;\n  padding: 20px;\n  width: 25%;\n  transition: all 0.3s ease-in;\n\n  &:hover {\n    transform: scale(1.04);\n  }\n\n  & + & {\n    margin-left: 20px;\n  }\n\n  "," {\n    width: 80%;\n    margin-bottom: 20px;\n\n    & + & {\n      margin-left: 0px;\n    }\n  }\n"]);return kn=function(){return n},n}function zn(){var n=Object(s.a)(['\n  color: #1a8917;\n  font-size: 14px;\n  font-family: "Montserrat", sans-serif;\n  text-decoration: none;\n']);return zn=function(){return n},n}function Pn(){var n=Object(s.a)(['\n  margin: 5px 0;\n  color: #d1d1d1;\n  font-size: 16px;\n  font-family: "Montserrat", sans-serif;\n']);return Pn=function(){return n},n}function Sn(){var n=Object(s.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n']);return Sn=function(){return n},n}function An(){var n=Object(s.a)(['\n  margin: 10px 0;\n  border: 1px solid #212121;\n  border-radius: 4px;\n  padding: 2px 5px;\n  color: #212121;\n  font-size: 14px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  text-decoration: none;\n']);return An=function(){return n},n}function En(){var n=Object(s.a)(['\n  margin: 10px 0;\n  color: #212121;\n  font-size: 32px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n']);return En=function(){return n},n}function Ln(){var n=Object(s.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n']);return Ln=function(){return n},n}function Cn(){var n=Object(s.a)(['\n  margin: 5px 0;\n  color: #212121;\n  font-size: 20px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  text-decoration: none;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n']);return Cn=function(){return n},n}function Nn(){var n=Object(s.a)(['\n  margin: 5px 0;\n  color: #212121;\n  font-size: 32px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  text-decoration: none;\n']);return Nn=function(){return n},n}function Dn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 0;\n  align-items: center;\n\n  "," {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n"]);return Dn=function(){return n},n}function Bn(){var n=Object(s.a)(["\n  border-bottom: 1px solid #eeeeee;\n  margin-bottom: 20px;\n  padding: 25px 0;\n"]);return Bn=function(){return n},n}var In=l.a.div(Bn()),_n=l.a.div(Dn(),d),Mn=Object(l.a)(a.b)(Nn()),Rn=Object(l.a)(a.b)(Cn()),Tn=l.a.p(Ln()),Jn=l.a.h2(En()),Un=Object(l.a)(a.b)(An()),Yn=l.a.p(Sn()),Fn=l.a.h5(Pn()),Kn=Object(l.a)(a.b)(zn()),$n=l.a.div(kn(),f),Hn=l.a.span(yn()),Wn=l.a.p(wn()),qn=l.a.h4(mn()),Gn=l.a.h3(vn()),Qn=l.a.div(gn()),Vn=l.a.div(On(),d),Xn=l.a.div(hn(),f),Zn=l.a.button(xn()),nt=Object(l.a)(a.b)(pn());function tt(n){var t=n.post,e=h(t.createdAt);return Object(r.jsxs)(In,{children:[Object(r.jsx)(Fn,{children:e}),Object(r.jsx)(Mn,{to:"/article/".concat(t.id),children:t.title}),Object(r.jsx)(Tn,{children:t.body}),Object(r.jsx)(Kn,{to:"/article/".concat(t.id),children:"Read more"})]})}function et(n){var t=n.post,e=n.handleDeletePost,c=h(t.createdAt);return Object(r.jsxs)(In,{children:[Object(r.jsx)(Fn,{children:c}),Object(r.jsxs)(_n,{children:[Object(r.jsx)(Jn,{children:t.title}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Zn,{onClick:function(){e(t.id)},children:"\u522a\u9664"}),Object(r.jsx)(nt,{to:"/post/".concat(t.id),children:"\u4fee\u6539"})]})]}),t.user.nickname&&t.userId&&Object(r.jsx)(Un,{to:"/user/".concat(t.userId),children:t.user.nickname}),Object(r.jsx)(Yn,{children:t.body})]})}function rt(n){var t=n.order,e=n.post,c=h(e.createdAt);return Object(r.jsxs)($n,{children:[Object(r.jsxs)(Hn,{children:["#",t]}),Object(r.jsx)(Rn,{to:"/article/".concat(e.id),children:e.title}),Object(r.jsx)(Fn,{children:c})]})}function ct(n){var t=n.post,e=h(t.createdAt);return Object(r.jsxs)(In,{children:[Object(r.jsx)(Mn,{to:"/article/".concat(t.id),children:t.title}),Object(r.jsx)(Fn,{children:e}),Object(r.jsx)(Wn,{children:t.body})]})}var ot=function(){var n=Object(A.b)(),t=Object(A.c)((function(n){return n.posts.allPosts}));return Object(c.useEffect)((function(){n(Q())}),[n]),Object(r.jsxs)(Qn,{children:[Object(r.jsx)(bn,{}),Object(r.jsx)(Vn,{children:t&&t.map((function(n){return Object(r.jsx)(tt,{post:n},n.id)}))})]})};function it(){var n=Object(s.a)(["\n  width: 150px;\n  margin: 30px;\n\n  img {\n    width: 100%;\n    object-fit: cover;\n  }\n"]);return it=function(){return n},n}function at(){var n=Object(s.a)(["\n  color: #525252;\n  font-size: 16px;\n  overflow-wrap: break-word;\n\n  a {\n    color: #525252;\n    text-decoration: underline;\n  }\n  span {\n    color: #ca4141;\n  }\n"]);return at=function(){return n},n}function ut(){var n=Object(s.a)(['\n  color: #222222;\n  font-size: 30px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return ut=function(){return n},n}function st(){var n=Object(s.a)(['\n  margin: 10px 0;\n  font-family: "Montserrat", sans-serif;\n  color: #d1d1d1;\n']);return st=function(){return n},n}function lt(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10vh auto;\n  padding: 20px;\n  width: 60%;\n"]);return lt=function(){return n},n}var ft=l.a.div(lt()),dt=l.a.h5(st()),jt=l.a.div(ut()),bt=l.a.p(at()),pt=l.a.div(it());var xt=function(){return Object(r.jsxs)(ft,{children:[Object(r.jsx)(pt,{children:Object(r.jsx)("img",{src:"images/avatar.png",alt:""})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(dt,{children:"ABOUT"}),Object(r.jsx)(jt,{children:"\u7b2c\u56db\u671f\u7a0b\u5f0f\u5c0e\u5e2b\u8a08\u756b"}),Object(r.jsxs)(bt,{children:["\u4e0d\u558a\u53e3\u865f\u4e5f\u4e0d\u8a87\u5927\u6210\u6548\uff0c\u958b\u653e\u900f\u660e\u7684 ",Object(r.jsx)("span",{children:"\u7db2\u9801\u524d\u5f8c\u7aef\u7dda\u4e0a\u5b78\u7fd2\u8a08\u756b"}),Object(r.jsx)("br",{}),"\u8a66\u8457\u7528\u516d\u500b\u6708\u7684\u6642\u9593\uff0c\u57f9\u990a\u51fa\u4e00\u500b\u627e\u5f97\u5230\u5de5\u4f5c\u4e14\u57fa\u790e\u7d2e\u5be6\u7684\u7db2\u9801\u5de5\u7a0b\u5e2b",Object(r.jsx)("br",{}),Object(r.jsx)("a",{href:"https://bootcamp.lidemy.com/index.html",children:"https://bootcamp.lidemy.com"})]})]})]})},ht=e(8),Ot={BLANK_ARTICLE:"Please fill in the blank for your article.",BLANK_USER_INFO:"Please fill in the blank input box."};function gt(){var n=Object(s.a)(['\n  color: #1a8917;\n  font-size: 14px;\n  font-family: "Montserrat", sans-serif;\n  text-decoration: none;\n']);return gt=function(){return n},n}function vt(){var n=Object(s.a)(["\n  border: none;\n  background: #212121;\n  text-decoration: none;\n  margin: 20px 0;\n  padding: 8px 15px;\n  border-radius: 4px;\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n  color: white;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return vt=function(){return n},n}function mt(){var n=Object(s.a)(["\n  font-size: 16px;\n  color: #ca3e47;\n"]);return mt=function(){return n},n}function wt(){var n=Object(s.a)(["\n  margin-bottom: 20px;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 10px;\n  width: 20%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return wt=function(){return n},n}function yt(){var n=Object(s.a)(["\n  margin: 10px 0;\n  font-size: 14px;\n  font-weight: 300;\n  color: ",";\n"]);return yt=function(){return n},n}function kt(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return kt=function(){return n},n}function zt(){var n=Object(s.a)(["\n  font-size: 20px;\n  color: #222222;\n"]);return zt=function(){return n},n}function Pt(){var n=Object(s.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: #222222;\n"]);return Pt=function(){return n},n}function St(){var n=Object(s.a)(["\n  text-align: center;\n"]);return St=function(){return n},n}var At=l.a.div(St()),Et=l.a.h2(Pt()),Lt=l.a.p(zt()),Ct=l.a.div(kt()),Nt=l.a.h6(yt(),(function(n){return n.verify?"#ca3e47":"#222222"})),Dt=l.a.input(wt(),(function(n){return n.verify?"#ca3e47":"#222222"})),Bt=l.a.h5(mt()),It=l.a.button(vt()),_t=Object(l.a)(a.b)(gt());var Mt=function(){var n=Object(c.useState)("zoeaeen13"),t=Object(ht.a)(n,2),e=t[0],o=t[1],i=Object(c.useState)("Lidemy"),a=Object(ht.a)(i,2),s=a[0],l=a[1],f=Object(c.useState)(!1),d=Object(ht.a)(f,2),j=d[0],b=d[1],p=Object(c.useState)(null),h=Object(ht.a)(p,2),O=h[0],g=h[1],v=Object(u.f)(),m=Object(A.b)(),w=Object(A.c)((function(n){return n.user.isLogin}));Object(c.useEffect)((function(){w&&v.push("/")}),[w,v]);var y=function(n){g(null),"account"===n.target.name&&o(n.target.value),"password"===n.target.name&&l(n.target.value)};return Object(r.jsxs)(At,{children:[Object(r.jsx)(Et,{children:"Sign in with Account"}),Object(r.jsx)(Lt,{children:"Enter the account and password."}),O&&Object(r.jsx)(Bt,{children:O}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)(Nt,{verify:j&&!e,children:"Your account"}),Object(r.jsx)(Dt,{name:"account",type:"text",value:e,onChange:y,verify:j&&!e}),Object(r.jsx)(Nt,{verify:j&&!s,children:"Your password"}),Object(r.jsx)(Dt,{name:"password",type:"password",value:s,onChange:y,verify:j&&!s}),Object(r.jsx)(It,{onClick:function(){if(b(!0),g(null),!e||!s)return g(Ot.BLANK_USER_INFO);m(z(e,s)).then((function(n){if(!n.ok)return g(n.message);x()&&m(k()).then((function(n){if(!n.ok)return g(n.message)}))}))},children:"Continue"}),Object(r.jsx)(_t,{to:"/",children:"back to Home"})]})]})};var Rt=function(){var n=Object(c.useState)(""),t=Object(ht.a)(n,2),e=t[0],o=t[1],i=Object(c.useState)(""),a=Object(ht.a)(i,2),s=a[0],l=a[1],f="Lidemy",d=Object(c.useState)(!1),j=Object(ht.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)(null),O=Object(ht.a)(h,2),g=O[0],v=O[1],m=Object(u.f)(),w=Object(A.b)(),y=Object(A.c)((function(n){return n.user.isLogin}));Object(c.useEffect)((function(){y&&m.push("/")}),[y,m]);var z=function(n){v(null),"username"===n.target.name&&o(n.target.value),"nickname"===n.target.name&&l(n.target.value)};return Object(r.jsxs)(At,{children:[Object(r.jsx)(Et,{children:"Create a new account"}),Object(r.jsx)(Lt,{children:"Enter the your nickname and username."}),Object(r.jsx)(Lt,{children:"For testing, the password is set as default value 'Lidemy'."}),g&&Object(r.jsx)(Bt,{children:g}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)(Nt,{verify:b&&!s,children:"Your nickname"}),Object(r.jsx)(Dt,{name:"nickname",type:"text",value:s,onChange:z,verify:b&&!s}),Object(r.jsx)(Nt,{verify:b&&!e,children:"Your username"}),Object(r.jsx)(Dt,{name:"username",type:"text",value:e,onChange:z,verify:b&&!e}),Object(r.jsx)(Nt,{children:"Your password"}),Object(r.jsx)(Dt,{name:"password",type:"password",value:f,readonly:!0}),Object(r.jsx)(It,{onClick:function(){if(p(!0),v(null),!e||!s)return v(Ot.BLANK_USER_INFO);w(P(s,e,f)).then((function(n){if(!n.ok)return v(n.message);x()&&w(k()).then((function(n){if(!n.ok)return v(n.message)}))}))},children:"Continue"})]})]})};function Tt(){var n=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 50px;\n  margin: 20px 10px;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 14px;\n  font-size: 13px;\n  font-weight: bold;\n  background: #03a87c;\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n"]);return Tt=function(){return n},n}function Jt(){var n=Object(s.a)(["\n  font-size: 16px;\n  color: #ca3e47;\n"]);return Jt=function(){return n},n}function Ut(){var n=Object(s.a)(["\n  margin: 20px auto;\n  color: #292929;\n  width: 80%;\n  border: 1px solid #d1d1d1;\n  border-radius: 5px;\n  font-size: 18px;\n  letter-spacing: 1px;\n  padding: 20px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Ut=function(){return n},n}function Yt(){var n=Object(s.a)(["\n  font-weight: bold;\n  font-size: 30px;\n  letter-spacing: 1px;\n  margin: 20px auto;\n  box-sizing: border-box;\n  border: none;\n  padding: 5px;\n  color: #292929;\n  width: 80%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Yt=function(){return n},n}function Ft(){var n=Object(s.a)(["\n  text-align: center;\n  margin: 6vh auto;\n  border: none;\n  overflow: hidden;\n  border-radius: 2px;\n  box-sizing: border-box;\n  width: 60%;\n\n  "," {\n    width: 90%;\n  }\n"]);return Ft=function(){return n},n}function Kt(){var n=Object(s.a)(["\n  position: relative;\n"]);return Kt=function(){return n},n}var $t=l.a.form(Kt()),Ht=l.a.div(Ft(),d),Wt=l.a.input(Yt()),qt=l.a.textarea(Ut()),Gt=l.a.h5(Jt()),Qt=l.a.button(Tt());var Vt=function(){var n=Object(u.h)().slug;console.log("slug",n);var t=Object(u.f)(),e=Object(A.b)(),o=Object(A.c)((function(n){return n.posts.recentPost})),i=Object(c.useState)(""),a=Object(ht.a)(i,2),s=a[0],l=a[1],f=Object(c.useState)(""),d=Object(ht.a)(f,2),j=d[0],b=d[1],p=Object(c.useState)(null),x=Object(ht.a)(p,2),h=x[0],O=x[1];Object(c.useEffect)((function(){return n&&e(V(n)),function(){e(X())}}),[n,e]),Object(c.useEffect)((function(){o&&n&&(l(o.title),b(o.body))}),[n,o]);var g=function(n){O(null),"title"===n.target.name&&l(n.target.value),"content"===n.target.name&&b(n.target.value)};return Object(r.jsxs)($t,{onSubmit:function(r){if(r.preventDefault(),!s||!j)return O(Ot.BLANK_ARTICLE);n?e(tn(n,s,j)).then((function(n){if(!n.id)return O(n.message);t.push("/")})):e(Z(s,j)).then((function(n){if(!n.id)return O(n.message);t.push("/")}))},children:[Object(r.jsxs)(Ht,{children:[Object(r.jsx)(Wt,{name:"title",placeholder:"Title",value:s,onChange:g}),Object(r.jsx)(qt,{name:"content",placeholder:"Write a story...",rows:"10",cols:"50",value:j,onChange:g}),h&&Object(r.jsx)(Gt,{children:h})]}),Object(r.jsx)(Qt,{children:"Publish"})]})};var Xt=function(){var n=Object(u.h)().slug,t=Object(A.b)(),e=Object(u.f)(),o=Object(A.c)((function(n){return n.posts.recentPost})),i=Object(A.c)((function(n){return n.posts.relatedPosts}));return Object(c.useEffect)((function(){return t(V(n)),function(){t(X())}}),[n,t]),Object(c.useEffect)((function(){var e,r;o&&t((e=o.user.id,r=Number(n),function(n){g(e).then((function(t){if(t.id){var e=t.posts.filter((function(n){return n.id!==r}));e.length>0&&n(W(e.filter((function(n,t){return t<3}))))}}))}))}),[n,o,t]),Object(r.jsxs)(Qn,{children:[Object(r.jsx)(bn,{}),Object(r.jsxs)(Vn,{children:[o&&Object(r.jsx)(et,{post:o,handleDeletePost:function(n){t(nn(n)).then((function(n){200===n&&e.push("/")}))}}),Object(r.jsx)(qn,{children:"\u540c\u7cfb\u5217\u6587\u7ae0\u9084\u6709..."}),Object(r.jsxs)(Xn,{children:[i&&i.map((function(n,t){return Object(r.jsx)(rt,{order:t+1,post:n},n.id)})),!i&&Object(r.jsx)("div",{children:"no related posts"})]})]})]})};function Zt(){var n=Object(s.a)(["\n  width: 40px;\n  border: none;\n  background: transparent;\n  transition: 0.2s all ease-in;\n  cursor: pointer;\n  margin: 0 10px;\n\n  img {\n    width: 100%;\n    object-fit: cover;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.3);\n  }\n"]);return Zt=function(){return n},n}function ne(){var n=Object(s.a)(['\n  color: #212121;\n  font-size: 18px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  color: #818181;\n']);return ne=function(){return n},n}function te(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n  width: 80%;\n  backgroudn: red;\n"]);return te=function(){return n},n}var ee=l.a.div(te()),re=l.a.h5(ne()),ce=l.a.button(Zt());function oe(n){var t=n.current,e=n.total,c=n.handleChangePage;return Object(r.jsxs)(ee,{children:[1!==t&&Object(r.jsx)(ce,{onClick:function(){c(t-1)},children:Object(r.jsx)("img",{alt:"",src:"./images/left-arrow.png"})}),Object(r.jsxs)(re,{children:["\u76ee\u524d\u7b2c ",t," \u9801"]}),t!==e&&Object(r.jsx)(ce,{onClick:function(){c(t+1)},children:Object(r.jsx)("img",{alt:"",src:"./images/right-arrow.png"})})]})}var ie=function(){var n=Object(u.h)().slug,t=Object(A.b)(),e=Object(A.c)((function(n){return n.posts.allPosts})),o=Object(A.c)((function(n){if(n.posts.userPostsData)return n.posts.userPostsData.posts})),i=Object(A.c)((function(n){if(n.posts.userPostsData)return n.posts.userPostsData.author})),a=Object(c.useState)(0),s=Object(ht.a)(a,2),l=s[0],f=s[1],d=Object(c.useState)(0),j=Object(ht.a)(d,2),b=j[0],p=j[1],x=Object(c.useState)([]),h=Object(ht.a)(x,2),O=h[0],v=h[1];return Object(c.useEffect)((function(){var e;t(n?(e=n,function(n){g(e).then((function(t){if(t.posts.length>0){var e=t.posts.reverse(),r=t.nickname,c=e.length;n(G({posts:e,author:{nickname:r,postsNum:c}}))}}))}):Q())}),[n,t]),Object(c.useEffect)((function(){if(e&&e.length>0){var n=Math.ceil(e.length/5);!e.length%5&&(n+=1),f(1),p(n)}}),[e]),Object(c.useEffect)((function(){if(e){var n=5*(l-1);v(e.slice(n,n+5))}}),[e,l]),Object(r.jsxs)(Qn,{children:[Object(r.jsx)(bn,{}),Object(r.jsxs)(Vn,{children:[!n&&Object(r.jsx)(Gn,{children:"\u6240\u6709\u6587\u7ae0"}),n&&i&&Object(r.jsxs)(Gn,{children:["'",i.nickname,"' \u76ee\u524d\u767c\u8868\u4e86 ",i.postsNum," \u7bc7\u6587\u7ae0"]}),!n&&O&&O.map((function(n){return Object(r.jsx)(ct,{post:n},n.id)})),n&&o&&o.map((function(n){return Object(r.jsx)(ct,{post:n},n.id)})),!n&&O&&b&&Object(r.jsx)(oe,{current:l,total:b,handleChangePage:function(n){f(n)}})]})]})};var ae=function(){var n=Object(A.b)();return Object(c.useEffect)((function(){n(k())}),[n]),Object(r.jsx)("div",{children:Object(r.jsxs)(a.a,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:"/",children:Object(r.jsx)(ot,{})}),Object(r.jsx)(u.a,{path:"/about",children:Object(r.jsx)(xt,{})}),Object(r.jsx)(u.a,{path:"/login",children:Object(r.jsx)(Mt,{})}),Object(r.jsx)(u.a,{path:"/register",children:Object(r.jsx)(Rt,{})}),Object(r.jsx)(u.a,{path:"/post/:slug",children:Object(r.jsx)(Vt,{})}),Object(r.jsx)(u.a,{path:"/post/",children:Object(r.jsx)(Vt,{})}),Object(r.jsx)(u.a,{path:"/archive",children:Object(r.jsx)(ie,{})}),Object(r.jsx)(u.a,{path:"/article/:slug",children:Object(r.jsx)(Xt,{})}),Object(r.jsx)(u.a,{path:"/user/:slug",children:Object(r.jsx)(ie,{})})]})]})})},ue=Object(j.a)({reducer:{posts:en,user:S}});i.a.render(Object(r.jsx)(A.a,{store:ue,children:Object(r.jsx)(ae,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3aa5686b.chunk.js.map